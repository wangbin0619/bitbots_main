<launch>
    <arg name="tf_prefix" value="$(eval env('ROS_NAMESPACE') + '/' if env('ROS_NAMESPACE') !=  '' else '')"/>
    <arg name="depends_only" default="false" />
    <arg name="use_game_settings" default="false"/>
    <rosparam command="load" file="$(find-pkg-share bitbots_body_behavior)/config/body_behavior.yaml"/>
    <rosparam command="load" file="$(find-pkg-share bitbots_head_behavior)/config/head_config.yaml"/>

    <group if="$(var use_game_settings)">
        <rosparam command="load" file="$(find-pkg-share bitbots_bringup)/config/game_settings.yaml" />
    </group>

    <node name="bio_ik_service" pkg="bio_ik_service" exec="bio_ik_service"  output="screen"/>

    <node unless="$(var depends_only)" name="head_behavior" pkg="bitbots_head_behavior" exec="head_node.py"  output="screen">
        <param name="camera_frame" value="$(var tf_prefix)camera"/>
        <param name="base_link_frame" value="$(var tf_prefix)base_link"/>
        <param name="odom_frame" value="$(var tf_prefix)odom"/>
        <param name="map_frame" value="$(var tf_prefix)map"/>
        <param name="ball_frame" value="$(var tf_prefix)ball"/>
        <param name="ball_approach_frame" value="$(var tf_prefix)ball_approach_frame"/>
        <param name="base_footprint_frame" value="$(var tf_prefix)base_footprint"/>
    </node>
</launch>
