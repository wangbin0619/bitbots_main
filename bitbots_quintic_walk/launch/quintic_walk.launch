<launch>
  <arg name="tf_prefix" default=""/>
  <arg name="sim" default="false"/>
  <arg name="wolfgang" default="false"/>
  <arg name="use_game_settings" default="false"/>

  <arg if="$(env IS_ROBOT false)" name="taskset" default="taskset -c 3"/>
  <arg unless="$(env IS_ROBOT false)" name="taskset" default=""/>

  <!--<group if="$(var use_game_settings)">
      <param file="$(find-pkg-share bitbots_utils)/config/game_settings.yaml" />
  </group> TODO add game setting launch-->

  <group if="$(var sim)">
    <node name="walking" pkg="bitbots_quintic_walk" exec="WalkNode" output="screen" launch-prefix="$(var taskset)">
      <param name="base_link_frame" value="$(var tf_prefix)base_link"/>
      <param name="r_sole_frame" value="$(var tf_prefix)r_sole"/>
      <param name="l_sole_frame" value="$(var tf_prefix)l_sole"/>
      <param name="odom_frame" value="$(var tf_prefix)odom"/>
    
      <param from="$(find-pkg-share bitbots_quintic_walk)/config/walking_wolfgang_simulator.yaml" />
    </node>
  </group>
  <group unless="$(var sim)">
    <node name="walking" pkg="bitbots_quintic_walk" exec="WalkNode" output="screen" launch-prefix="$(var taskset)">
      <param name="base_link_frame" value="$(var tf_prefix)base_link"/>
      <param name="r_sole_frame" value="$(var tf_prefix)r_sole"/>
      <param name="l_sole_frame" value="$(var tf_prefix)l_sole"/>
      <param name="odom_frame" value="$(var tf_prefix)odom"/>

      <param from="$(find-pkg-share bitbots_quintic_walk)/config/walking_wolfgang_robot.yaml" />
    </node>
  </group>
</launch>
